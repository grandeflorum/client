<div style="height: 100%;">
  <div nz-row style="height: 50px;padding: 10px;">
      <div nz-col [nzSpan]="12">
        所属类目：
        <nz-select [(ngModel)]="sslm" style="width:400px" [disabled]="isDisable" nzAllowClear>
            <nz-option nzLabel="全部" nzValue=""></nz-option>
            <nz-option *ngFor="let option of dictionaryObj.xmsc" [nzLabel]="option.name" [nzValue]="option.code">
            </nz-option>
        </nz-select>
      </div>
    <div nz-col [nzSpan]="12">
      <nz-input-group nzSearch  [nzAddOnAfter]="suffixButton">
        <input type="text" nz-input placeholder="请输入" [(ngModel)]="txt"/>
      </nz-input-group>
      <ng-template #suffixButton>
        <button nz-button style="margin-left:0" nzType="primary"  nzSearch (click)="search()">搜索</button>
      </ng-template>
    </div>
</div>
<div nz-row style="height: 50px;padding: 10px;">
     <div nz-col [nzSpan]="24">
        <button nz-button nzType="primary" (click)="add(1)"><i nz-icon nzType="plus"></i>
          添加
        </button>
        <button nz-button nzType="default" (click)="btachDelete()">批量删除</button>
        <button nz-button nzType="default" (click)="moreDown()">批量下载</button>
      </div>
    </div>

      <nz-table #nestedTable [nzData]="dataSet" class="commontable tablescoll_rainbow"  [nzLoading]="Loading" 
        [nzPageIndex]="pageIndex" nzShowPagination nzShowQuickJumper nzShowSizeChanger [nzPageSize]="pageSize" [nzTotal]="totalCount" 
        (nzPageIndexChange)="pageIndexChange($event)" (nzPageSizeChange)="pageSizeChange($event)"
        (nzCurrentPageDataChange)="currentPageDataChange($event)" [nzScroll]="tableIsScroll">
        <thead>
          <tr>
            <th style="width:10%" nzShowCheckbox [(nzChecked)]="isAllDisplayDataChecked" [nzIndeterminate]="isIndeterminate"
              (nzCheckedChange)="checkAll($event)"></th>
            <th>项目名称</th>
            <th>上传时间</th>
            
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of nestedTable.data; index as index" [ngClass]="{ itemSeleted: data.id == selectId }"
            (click)="selectItem(data)">
            <td style="width:10%" nzShowCheckbox [(nzChecked)]="mapOfCheckedId[data.id]" [nzDisabled]="data.disabled"
              (nzCheckedChange)="refreshStatus()"></td>
            <td>{{ data.serverFileName }}</td>
            <td>{{ data.uploadDate }}</td>
           <td>
              <a class="table_a">查看</a>
              <a class="table_a" nz-popconfirm nzTitle="确定删除吗?" (nzOnConfirm)="btachDelete(data)">删除</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
</div>

<nz-modal [(nzVisible)]="isVisible" nzTitle="附件上传" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <div nz-row style="height: 50px;padding: 10px;">
      <div nz-col [nzSpan]="24">
        所属类目：
        <nz-select [(ngModel)]="sslm" style="width:300px" [disabled]="isDisable" nzAllowClear>
          <nz-option nzLabel="全部" nzValue=""></nz-option>
          <nz-option *ngFor="let option of dictionaryObj.xmsc" [nzLabel]="option.name" [nzValue]="option.code">
          </nz-option>
        </nz-select>
      </div>
    </div>
    <div nz-row>
      <div nz-col [nzSpan]="24">
        <app-upload [type]="sslm" [refid]="'xmsc'" (outer)="outer($event)" #uploadComponent></app-upload>
      </div>
    </div>
</nz-modal>


 
